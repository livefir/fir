<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://adnaan.badr.in/fir/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://adnaan.badr.in/fir/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://adnaan.badr.in/fir/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://adnaan.badr.in/fir/main.31de6591ca30693a54bd7e7b218a5254f188d7e2074fd62385c9669768f90af0a62ab6009fec54162ce076ace69150c161319add9cbf80f2a806780b1374d5a1.css integrity="sha512-Md5lkcowaTpUvX57IYpSVPGI1+IHT9Yjhclml2j5CvCmKrYAn+xUFizgdqzmkVDBYTGa3Zy/gPKoBngLE3TVoQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Quick Start - Fir</title><meta name=description content="A quick start for the Fir toolkit"><link rel=canonical href=https://adnaan.badr.in/fir/docs/tutorials/quick-start/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Quick Start"><meta property="og:description" content="A quick start for the Fir toolkit"><meta property="og:url" content="https://adnaan.badr.in/fir/docs/tutorials/quick-start/"><meta property="og:site_name" content="Fir"><meta property="article:published_time" content="2020-11-16T13:59:39+01:00"><meta property="article:modified_time" content="2020-11-16T13:59:39+01:00"><meta property="og:image" content="https://adnaan.badr.in/fir/doks.png"><meta property="og:image:alt" content="Fir"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@adnaanx"><meta name=twitter:creator content="@adnaanx"><meta name=twitter:title content="Quick Start"><meta name=twitter:description content="A quick start for the Fir toolkit"><meta name=twitter:image content="https://adnaan.badr.in/fir/doks.png"><meta name=twitter:image:alt content="Quick Start"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://adnaan.badr.in/#/schema/organization/1","name":"Doks","url":"https://adnaan.badr.in/","sameAs":["https://github.com/adnaan/fir"],"logo":{"@type":"ImageObject","@id":"https://adnaan.badr.in/#/schema/image/1","url":"https://adnaan.badr.in/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://adnaan.badr.in/#/schema/image/1"}},{"@type":"WebSite","@id":"https://adnaan.badr.in/#/schema/website/1","url":"https://adnaan.badr.in/","name":"Fir","description":"The Fir toolkit offers a Go library, an Alpine.js plugin and a CLI to build progressively enhanced dynamic apps with mostly server-rendered HTML.","publisher":{"@id":"https://adnaan.badr.in/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/","url":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/","name":"Quick Start","description":"A quick start for the Fir toolkit","isPartOf":{"@id":"https://adnaan.badr.in/#/schema/website/1"},"about":{"@id":"https://adnaan.badr.in/#/schema/organization/1"},"datePublished":"2020-11-16T13:59:39CET","dateModified":"2020-11-16T13:59:39CET","breadcrumb":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://adnaan.badr.in/fir/docs/tutorials/quick-start/"]}]},{"@type":"BreadcrumbList","@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://adnaan.badr.in/fir/","url":"https://adnaan.badr.in/fir/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://adnaan.badr.in/fir/docs/","url":"https://adnaan.badr.in/fir/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://adnaan.badr.in/fir/docs/tutorials/","url":"https://adnaan.badr.in/fir/docs/tutorials/","name":"Tutorials"}},{"@type":"ListItem","position":4,"item":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://adnaan.badr.in/#/schema/article/1","headline":"Quick Start","description":"A quick start for the Fir toolkit","isPartOf":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/"},"mainEntityOfPage":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/"},"datePublished":"2020-11-16T13:59:39CET","dateModified":"2020-11-16T13:59:39CET","author":{"@id":"https://adnaan.badr.in/#/schema/person/2"},"publisher":{"@id":"https://adnaan.badr.in/#/schema/organization/1"},"image":{"@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://adnaan.badr.in/#/schema/person/2","name":"Adnaan Badr","sameAs":["https://twitter.com/adnaanx","https://www.linkedin.com/in/henkverlinde/","https://github.com/adnaan"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://adnaan.badr.in/fir/docs/tutorials/quick-start/#/schema/image/2","url":"https://adnaan.badr.in/fir/doks.png","contentUrl":"https://adnaan.badr.in/fir/doks.png","caption":"Quick Start"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://adnaan.badr.in/fir/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://adnaan.badr.in/fir/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://adnaan.badr.in/fir/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://adnaan.badr.in/fir/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://adnaan.badr.in/fir/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://adnaan.badr.in/fir/site.webmanifest></head><body class="docs single"><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=https://adnaan.badr.in/fir/ aria-label=Fir>Fir</a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasExample aria-controls=offcanvasExample><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample aria-labelledby=offcanvasExampleLabel><div class=header-bar></div><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3b878279a04dc47d60932cb294d96259 aria-expanded=false>
Overview</button><div class=collapse id=section-3b878279a04dc47d60932cb294d96259><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/faq/>FAQs</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-130ddfce9c28453883ccfe2da8b6d5ac aria-expanded=true>
Tutorials</button><div class="collapse show" id=section-130ddfce9c28453883ccfe2da8b6d5ac><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded active" href=https://adnaan.badr.in/fir/docs/tutorials/quick-start/>Quick Start</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/tutorials/counter-app/>Counter App</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-db974238714ca8de634a7ce1d083a14f aria-expanded=false>
API</button><div class=collapse id=section-db974238714ca8de634a7ce1d083a14f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/go/>Go</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/alpinejs-plugin/>Alpine.js Plugin</a></li></ul></div></li></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=https://adnaan.badr.in/fir/>Fir</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=https://adnaan.badr.in/fir/docs/overview/introduction/>Docs</a></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/adnaan/fir><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"><button id=mode class="btn btn-link" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></div></div></nav></header></div><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3b878279a04dc47d60932cb294d96259 aria-expanded=false>
Overview</button><div class=collapse id=section-3b878279a04dc47d60932cb294d96259><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/faq/>FAQs</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-130ddfce9c28453883ccfe2da8b6d5ac aria-expanded=true>
Tutorials</button><div class="collapse show" id=section-130ddfce9c28453883ccfe2da8b6d5ac><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded active" href=https://adnaan.badr.in/fir/docs/tutorials/quick-start/>Quick Start</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/tutorials/counter-app/>Counter App</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-db974238714ca8de634a7ce1d083a14f aria-expanded=false>
API</button><div class=collapse id=section-db974238714ca8de634a7ce1d083a14f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/go/>Go</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/alpinejs-plugin/>Alpine.js Plugin</a></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3b878279a04dc47d60932cb294d96259 aria-expanded=false>
Overview</button><div class=collapse id=section-3b878279a04dc47d60932cb294d96259><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/introduction/>Introduction</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/overview/faq/>FAQs</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-130ddfce9c28453883ccfe2da8b6d5ac aria-expanded=true>
Tutorials</button><div class="collapse show" id=section-130ddfce9c28453883ccfe2da8b6d5ac><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded active" href=https://adnaan.badr.in/fir/docs/tutorials/quick-start/>Quick Start</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/tutorials/counter-app/>Counter App</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-db974238714ca8de634a7ce1d083a14f aria-expanded=false>
API</button><div class=collapse id=section-db974238714ca8de634a7ce1d083a14f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/go/>Go</a></li><li><a class="docs-link rounded" href=https://adnaan.badr.in/fir/docs/api/alpinejs-plugin/>Alpine.js Plugin</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#creating-a-new-app>Creating a new app</a></li><li><a href=#creating-a-new-view>Creating a new view</a></li><li><a href=#render-page>Render Page</a></li><li><a href=#patch-page>Patch Page</a><ul><li><a href=#emit-page-events>Emit page events</a></li><li><a href=#handle-page-events>Handle page events</a></li></ul></li><li><a href=#final>Final</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#creating-a-new-app>Creating a new app</a></li><li><a href=#creating-a-new-view>Creating a new view</a></li><li><a href=#render-page>Render Page</a></li><li><a href=#patch-page>Patch Page</a><ul><li><a href=#emit-page-events>Emit page events</a></li><li><a href=#handle-page-events>Handle page events</a></li></ul></li><li><a href=#final>Final</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Quick Start</h1><p class=lead>A quick start for the Fir toolkit</p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#creating-a-new-app>Creating a new app</a></li><li><a href=#creating-a-new-view>Creating a new view</a></li><li><a href=#render-page>Render Page</a></li><li><a href=#patch-page>Patch Page</a><ul><li><a href=#emit-page-events>Emit page events</a></li><li><a href=#handle-page-events>Handle page events</a></li></ul></li><li><a href=#final>Final</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#creating-a-new-app>Creating a new app</a></li><li><a href=#creating-a-new-view>Creating a new view</a></li><li><a href=#render-page>Render Page</a></li><li><a href=#patch-page>Patch Page</a><ul><li><a href=#emit-page-events>Emit page events</a></li><li><a href=#handle-page-events>Handle page events</a></li></ul></li><li><a href=#final>Final</a></li></ul></nav></div></nav><p>Lets spend the next 15 minutes creating a simple app. If you want to skip ahead and look at final code, its here: <a href=https://github.com/adnaan/fir/blob/main/examples/tasks/main.go>examples/tasks/main.go</a></p><h2 id=prerequisites>Prerequisites <a href=#prerequisites class=anchor aria-hidden=true>#</a></h2><p>Have you installed <a href=https://go.dev/doc/install>Go 1.18</a> ? If yes, we are good to go.</p><h2 id=creating-a-new-app>Creating a new app <a href=#creating-a-new-app class=anchor aria-hidden=true>#</a></h2><p>The <code>fir</code> library concerns itself with only the view controller so starting off is as easy as mounting a view on the <code>fir</code> controller:</p><pre><code class=language-go>package main

import (
 &quot;log&quot;
 &quot;net/http&quot;

 &quot;github.com/adnaan/fir&quot;
)

func main() {
 controller := fir.NewController(&quot;task_app&quot;, fir.DevelopmentMode(true))
 http.Handle(&quot;/&quot;, controller.Handler(&amp;fir.DefaultView{}))
 http.ListenAndServe(&quot;:9867&quot;, nil)
}

</code></pre><pre><code class=language-bash>mkdir hello-fir &amp;&amp; cd hello-fir
touch main.go # copy-paste the above snippet
go get ./...
go run main.go
</code></pre><p>Open <a href=http://localhost:9867>localhost:9867</a> to see the running app.</p><p>We have created a controller and registered a <code>DefaultView</code> by calling <code>controller.Handler(&fir.HelloView{})</code>. The <code>contoller.Handler</code> method accepts a <a href=https://pkg.go.dev/github.com/adnaan/fir#View>View</a> interface. <code>fir.DefaultView</code> satisfies the methods for the <code>View</code> interface with default values.</p><p>The fir library doesn&rsquo;t manage routing so you can bring your favorite routing library to actually route requests to the view. Here we keep it simple and mount the <code>http.HandlerFunc</code> returned by <code>controller.Handler</code> on the <code>/</code> route: <code>http.Handle("/", c.Handler(&fir.DefaultView{}))</code></p><h2 id=creating-a-new-view>Creating a new view <a href=#creating-a-new-view class=anchor aria-hidden=true>#</a></h2><p>Lets start rendering a simple html page. To do this we want to create a new view and replace <code>DefaultView</code>.</p><p>This is how we do that:</p><pre><code class=language-go>type TaskView struct {
 fir.DefaultView
}

func (*TaskView) Content() string {
 return &quot;A tasks app&quot;
}

</code></pre><p>In the above snippet we have created a new struct, <code>TaskView</code> and embedded a <code>fir.DefaultView</code> type in it to satisfy the <code>View</code> interface.</p><pre><code class=language-go>package main

import (
 &quot;log&quot;
 &quot;net/http&quot;

 &quot;github.com/adnaan/fir&quot;
)

type Task struct {
 Text string `json:&quot;text&quot; schema:&quot;text&quot;`
}

type TaskView struct {
 fir.DefaultView
 tasks []Task
 sync.RWMutex
}

func (*TaskView) Content() string {
 return &quot;A tasks app&quot;
}

func main() {
 controller := fir.NewController(&quot;task_app&quot;, fir.DevelopmentMode(true))
 http.Handle(&quot;/&quot;, controller.Handler(&amp;TaskView{tasks: make([]Task, 0)}))
 http.ListenAndServe(&quot;:9867&quot;, nil)
}
</code></pre><p>Run the above code to see the changes at <a href=http://localhost:9867>localhost:9867</a>.</p><h2 id=render-page>Render Page <a href=#render-page class=anchor aria-hidden=true>#</a></h2><p>A <code>Page</code> in <code>fir</code> is a full web page which is rendered when a route is loaded. The <code>View</code> interface exposes two methods to render pages: <code>OnGet</code> and <code>OnPost</code>. <code>OnGet</code> is called when the page is loaded with a http GET request. We override <code>OnGet</code> to supply data to <code>html/template</code> renderer. <code>OnPost</code> can be overriden to handle form submissions from the browser. Both of these methods reload and re-render the full page.</p><pre><code class=language-go>package main

import (
 &quot;net/http&quot;
 &quot;sync&quot;

 &quot;github.com/adnaan/fir&quot;
)

type Task struct {
 Text string `json:&quot;text&quot; schema:&quot;text&quot;`
}

type TaskView struct {
 fir.DefaultView
 tasks []Task
 sync.RWMutex
}

func (t *TaskView) OnGet(_ http.ResponseWriter, _ *http.Request) fir.Page {
 t.RLock()
 defer t.RUnlock()
 return fir.Page{Data: map[string]any{&quot;tasks&quot;: t.tasks}}
}

func (t *TaskView) OnPost(_ http.ResponseWriter, r *http.Request) fir.Page {
 t.Lock()
 defer t.Unlock()

 var task Task
 if err := fir.DecodeForm(&amp;task, r); err != nil {
  return fir.PageError(err, &quot;failed to decode form&quot;)
 }

 t.tasks = append(t.tasks, task)
 return fir.Page{Data: map[string]any{&quot;tasks&quot;: t.tasks}}
}

func (*TaskView) Content() string {
 return `
 &lt;div&gt;
  &lt;h1&gt;Tasks&lt;/h1&gt;
  &lt;form id=&quot;new-task&quot; method=&quot;post&quot;&gt;
   &lt;input type=&quot;text&quot; name=&quot;text&quot; placeholder=&quot;New task&quot; /&gt;
  &lt;/form&gt;
  {{range .tasks}}
   &lt;div&gt;{{.Text}}&lt;/div&gt;
  {{end}}
 &lt;/div&gt;`
}

func main() {
 controller := fir.NewController(&quot;task_app&quot;, fir.DevelopmentMode(true))
 http.Handle(&quot;/&quot;, controller.Handler(&amp;TaskView{tasks: make([]Task, 0)}))
 http.ListenAndServe(&quot;:9867&quot;, nil)
}
</code></pre><p>Run the above update code. Go to <a href=http://localhost:9867>localhost</a> submit a new task.</p><p>Creating a new task is handled by <code>OnPost</code> which appends a new task to <code>tasks</code> and then re-renders the <code>Page</code> with updated <code>tasks</code>.</p><h2 id=patch-page>Patch Page <a href=#patch-page class=anchor aria-hidden=true>#</a></h2><p>In the above example, we reload the entire page when a new task is created. <code>Fir</code> offers a way to re-render sections of a page without reloading the page. We call this a <code>Patch</code> operation. If we look at the html being rendered, we can see that only following snippet needs to be re-rendered instead of the whole page:</p><pre><code class=language-html>{{range .tasks}}
 &lt;div&gt;{{.Text}}&lt;/div&gt;
{{end}}
</code></pre><p>Since we want to re-render this section of our html on the server, we will wrap it around in a defined template(html/template). We will use the <a href=https://pkg.go.dev/text/template#example-Template-Block>block</a> action.</p><p>The updated html snippet should look like this:</p><pre><code class=language-gohtml>{{block &quot;tasks&quot; .}}
 &lt;div id=&quot;tasks&quot;&gt;
  {{range .tasks}}
   &lt;div&gt;{{.Text}}&lt;/div&gt;
  {{end}}
 &lt;/div&gt;
{{end}}
</code></pre><p>The <code>range</code> action is wrapped in a <code>&lt;div id="tasks"></code> so that we can target that html section for re-rendering it. We now need a way to handle the form submission and respond with a <code>Patch</code> operation to update the changed section.</p><h3 id=emit-page-events>Emit page events <a href=#emit-page-events class=anchor aria-hidden=true>#</a></h3><p><code>Fir</code> has a companion javascript library which lets you send browser events to the server. You can use these events to change server state(in our case: <code>tasks []Task</code>) and make partial page updates without a page reload. Lets include the <code>fir</code> javascript library in our html page by overriding the <code>Layout</code> method of the <code>View</code> interface. We have also updated the <code>Content()</code> method:</p><ol><li>A defined template named <code>content</code>(<code>{{define "content"}} ... {{end}}{%end%}</code>) which can be replaced in the <code>Layout</code> html string.</li><li><code>&lt;div x-data></code> so that we can use alpinejs features within this div tag.</li></ol><pre><code class=language-go>func (*TaskView) Layout() string {
 return `
 &lt;!DOCTYPE html&gt;
 &lt;html lang=&quot;en&quot;&gt;
 &lt;head&gt;
  &lt;title&gt;{{.app_name}}&lt;/title&gt;
  &lt;script defer src=&quot;https://unpkg.com/@adnaanx/fir@latest/dist/fir.min.js&quot;&gt;&lt;/script&gt;
  &lt;script defer src=&quot;https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js&quot;&gt;&lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
  {{template &quot;content&quot; .}}
 &lt;/body&gt;
 &lt;/html&gt;`
}

func (*TaskView) Content() string {
 return `
 {{define &quot;content&quot;}}
  &lt;div x-data&gt;
   &lt;h1&gt;Tasks&lt;/h1&gt;
   &lt;form id=&quot;new-task&quot; method=&quot;post&quot; @submit.prevent=&quot;$fir.emit()&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;text&quot; placeholder=&quot;New task&quot; /&gt;
   &lt;/form&gt;
   {{block &quot;tasks&quot; .}}
    &lt;div id=&quot;tasks&quot;&gt;
     {{range .tasks}}
      &lt;div&gt;{{.Text}}&lt;/div&gt;
     {{end}}
    &lt;/div&gt;
   {{end}}
  &lt;/div&gt;
 {{end}}`
}
</code></pre><p>Now we can use <a href=https://alpinejs.dev/directives/on#prevent>alpinejs</a> <code>@submit.prevent</code> binding to call a utility function from the library: <code>$fir.emit()</code>.</p><pre><code class=language-html>&lt;form id=&quot;new-task&quot; method=&quot;post&quot; @submit.prevent=&quot;$fir.emit()&quot;&gt;
 &lt;input type=&quot;text&quot; name=&quot;text&quot; placeholder=&quot;New task&quot; /&gt;
&lt;/form&gt;
</code></pre><p>In the above snippet, we use the custom Alpinejs magic function, <code>$fir.emit()</code> to send an event to the server on form submission. Internally <code>$fir.emit()</code> collects the form data and sends a <code>post</code> request to the controller. Shortly we will see how to handle this event to change state on the server, followed by updating tasks on the web page.</p><h3 id=handle-page-events>Handle page events <a href=#handle-page-events class=anchor aria-hidden=true>#</a></h3><p>To handle page events emitted by the <code>fir</code> client library, we override the <code>OnEvent</code> method of the <code>View</code> interface. In response to a page event, we want to send back a set of <code>Patch</code> operations which can modify targeted sections of the page.</p><pre><code class=language-go>...

func (t *TaskView) OnEvent(event fir.Event) fir.Patchset {
 switch event.ID {
 case &quot;new-task&quot;:
  var task Task
  if err := event.DecodeFormParams(&amp;task); err != nil {
   return fir.PatchError(err, &quot;failed to decode task&quot;)
  }

  t.Lock()
  defer t.Unlock()
  t.tasks = append(t.tasks, task)
  return fir.Patchset{
   fir.Replace{
    Selector: &quot;#tasks&quot;,
    HTML: &amp;fir.Render{
     Template: &quot;tasks&quot;,
     Data: map[string]any{&quot;tasks&quot;: t.tasks},
    },
   },
  }
 }
 return nil
}
</code></pre><h2 id=final>Final <a href=#final class=anchor aria-hidden=true>#</a></h2><p>The big idea behind <code>Fir</code> is wrapping a <code>div</code> in a <code>{{ template ...}}</code> <code>html/template</code> action and then later patching it over standard HTTP on state change. Below is the final code:</p><pre><code class=language-go>package main

import (
 &quot;net/http&quot;
 &quot;sync&quot;

 &quot;github.com/adnaan/fir&quot;
)

type Task struct {
 Text string `json:&quot;text&quot; schema:&quot;text&quot;`
}

type TaskView struct {
 fir.DefaultView
 tasks []Task
 sync.RWMutex
}

func (t *TaskView) OnGet(_ http.ResponseWriter, _ *http.Request) fir.Page {
 t.RLock()
 defer t.RUnlock()
 return fir.Page{Data: map[string]any{&quot;tasks&quot;: t.tasks}}
}

func (t *TaskView) OnPost(_ http.ResponseWriter, r *http.Request) fir.Page {
 t.Lock()
 defer t.Unlock()

 var task Task
 if err := fir.DecodeForm(&amp;task, r); err != nil {
  return fir.PageError(err, &quot;failed to decode form&quot;)
 }

 t.tasks = append(t.tasks, task)
 return fir.Page{Data: map[string]any{&quot;tasks&quot;: t.tasks}}
}

func (t *TaskView) OnEvent(event fir.Event) fir.Patchset {
 switch event.ID {
 case &quot;new-task&quot;:
  var task Task
  if err := event.DecodeFormParams(&amp;task); err != nil {
   return fir.PatchError(err, &quot;failed to decode task&quot;)
  }

  t.Lock()
  defer t.Unlock()
  t.tasks = append(t.tasks, task)
  return fir.Patchset{
   fir.Replace{
    Selector: &quot;#tasks&quot;,
    HTML: &amp;fir.Render{
     Template: &quot;tasks&quot;,
     Data: map[string]any{&quot;tasks&quot;: t.tasks},
    },
   },
  }
 }
 return nil
}

func (*TaskView) Layout() string {
 return `
 &lt;!DOCTYPE html&gt;
 &lt;html lang=&quot;en&quot;&gt;
 &lt;head&gt;
  &lt;title&gt;{{.app_name}}&lt;/title&gt;
  &lt;script defer src=&quot;https://unpkg.com/@adnaanx/fir@latest/dist/fir.min.js&quot;&gt;&lt;/script&gt;
  &lt;script defer src=&quot;https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js&quot;&gt;&lt;/script&gt;
 &lt;/head&gt;
 &lt;body&gt;
  {{template &quot;content&quot; .}}
 &lt;/body&gt;
 &lt;/html&gt;`
}

func (*TaskView) Content() string {
 return `
 {{define &quot;content&quot;}}
  &lt;div x-data&gt;
   &lt;h1&gt;Tasks&lt;/h1&gt;
   &lt;form id=&quot;new-task&quot; method=&quot;post&quot; @submit.prevent=&quot;$fir.emit()&quot;&gt;
    &lt;input type=&quot;text&quot; name=&quot;text&quot; placeholder=&quot;New task&quot; /&gt;
   &lt;/form&gt;
   {{block &quot;tasks&quot; .}}
    &lt;div id=&quot;tasks&quot;&gt;
     {{range .tasks}}
      &lt;div&gt;{{.Text}}&lt;/div&gt;
     {{end}}
    &lt;/div&gt;
   {{end}}
  &lt;/div&gt;
 {{end}}`
}

func main() {
 controller := fir.NewController(&quot;task_app&quot;, fir.DevelopmentMode(true))
 http.Handle(&quot;/&quot;, controller.Handler(&amp;TaskView{tasks: make([]Task, 0)}))
 http.ListenAndServe(&quot;:9867&quot;, nil)
}


</code></pre><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a class=ms-auto href=https://adnaan.badr.in/fir/docs/api/go/><div class="card my-1"><div class="card-body py-2">Go &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://gohugo.io/>Hugo</a>, and <a class=text-muted href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://adnaan.badr.in/fir/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51+L6gymJi4Qg==" crossorigin=anonymous defer></script>
<script src=https://adnaan.badr.in/fir/js/highlight.min.5d6f0cf947e4113050c77888e0573b1db7b4fcc46c02b35560eb83150574f049dcc378443447514b4b25cbf1cff85522c403b87759cb2203b64fb78e2afa084c.js integrity="sha512-XW8M+UfkETBQx3iI4Fc7Hbe0/MRsArNVYOuDFQV08Encw3hENEdRS0sly/HP+FUixAO4d1nLIgO2T7eOKvoITA==" crossorigin=anonymous defer></script>
<script src=https://adnaan.badr.in/fir/main.min.162c56a0426544de0d010e66c56e321579655c400c9aae06a6823e7682de379adadf2165bd416fea191e4e7e410fbf1fd2c35a759aa43ff2e3787067669bf81b.js integrity="sha512-FixWoEJlRN4NAQ5mxW4yFXllXEAMmq4GpoI+doLeN5ra3yFlvUFv6hkeTn5BD78f0sNadZqkP/LjeHBnZpv4Gw==" crossorigin=anonymous defer></script>
<script src=https://adnaan.badr.in/fir/index.min.48ed4068146d1611c848a0d8beb1f72e03f53829f00b75f90b0d1e0c7a6f8f8da516154e618c31f42bf02b3c12a6e9201a7ca07956bd6b846f1709494da6ff52.js integrity="sha512-SO1AaBRtFhHISKDYvrH3LgP1OCnwC3X5Cw0eDHpvj42lFhVOYYwx9CvwKzwSpukgGnygeVa9a4RvFwlJTab/Ug==" crossorigin=anonymous defer></script></body></html>