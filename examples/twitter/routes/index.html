{{ define "content" }}
    {{ block "fir-error-route" . }}
        <p id="fir-error-route">
            {{ .fir.Error "route" }}
        </p>
    {{ end }}


    <div
        x-data
        @fir:submit-start:createTweet.window="console.log('create tweet start')"
        @fir:submit-end:createTweet.window="console.log('create tweet done')"></div>

    <form
        x-data
        id="createTweet"
        method="post"
        action="/?event=createTweet"
        @submit.prevent="$fir.emit()"
        style="margin-top:1rem;margin-bottom:1rem;">
        <input type="text" name="body" placeholder="a new tweet" />
        {{ block "fir-error-createTweet-body" . }}
            <p id="fir-error-createTweet-body">
                {{ .fir.Error "createTweet.body" }}
            </p>
        {{ end }}
        <button type="submit">Submit</button>
    </form>
    <div x-data id="tweets">
        {{ range .tweets }}
            {{ block "tweet" . }}
                <div
                    id="tweet-{{ .ID }}"
                    style="display: flex;margin-top:1rem;margin-bottom:1rem;">
                    <div style="margin-right:1rem">Tweet: {{ .Body }}</div>
                    <div style="margin-right:1rem">
                        likes:
                        {{ .LikesCount }}
                    </div>
                    <form
                        method="post"
                        @submit.prevent="$fir.emit()"
                        style="margin-right:1rem">
                        <input type="hidden" name="tweetID" value="{{ .ID }}" />
                        <button formaction="/?event=likeTweet" type="submit">
                            Like
                        </button>
                        <button formaction="/?event=deleteTweet" type="submit">
                            Delete
                        </button>
                    </form>
                </div>
            {{ end }}
        {{ end }}
    </div>
{{ end }}
