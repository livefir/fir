### `$fir` AlpineJS Magic Property

The `fir` AlpineJS plugin exposes a `$fir` magic property that provides helper functions to interact with your Fir backend events and manage element state.

**Important Usage Note:** The `$fir` methods return the actual event handler function.
*   If the `$fir` method call is the **only** expression in your Alpine event handler (e.g., `@click="$fir.emit('foo')"`), Alpine automatically invokes the returned function. Trailing `()` are **not** needed.
*   If the `$fir` method call is part of a **multi-statement expression** (e.g., `@click="console.log('hi'); $fir.emit('foo')"`), you **must** explicitly invoke the returned function by adding trailing parentheses `()` (e.g., `@click="console.log('hi'); $fir.emit('foo')()"`).

---

## Functions (JSDoc Style)

<dl>
<dt><a href="#replace">replace()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that replaces the inner HTML of an element with the HTML received in the event detail.</p>
</dd>
<dt><a href="#replaceEl">replaceEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that replaces the entire element (outerHTML) with the HTML received in the event detail.</p>
</dd>
<dt><a href="#appendEl">appendEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that appends the HTML received in the event detail to the element's innerHTML.</p>
</dd>
<dt><a href="#prependEl">prependEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that prepends the HTML received in the event detail to the element's innerHTML.</p>
</dd>
<dt><a href="#afterEl">afterEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that inserts the HTML received in the event detail immediately after the element.</p>
</dd>
<dt><a href="#beforeEl">beforeEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that inserts the HTML received in the event detail immediately before the element.</p>
</dd>
<dt><a href="#removeEl">removeEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that removes the element itself from the DOM.</p>
</dd>
<dt><a href="#removeParentEl">removeParentEl()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that removes the element's immediate parent from the DOM.</p>
</dd>
<dt><a href="#reset">reset()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that resets the form element it's attached to. Only works on <code>&lt;form&gt;</code> elements.</p>
</dd>
<dt><a href="#toggleDisabled">toggleDisabled()</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that toggles the <code>disabled</code> and <code>aria-disabled</code> attributes based on the event state (<code>pending</code>, <code>ok</code>, <code>error</code>, <code>done</code>).</p>
</dd>
<dt><a href="#emit">emit(id, params, target)</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that, when called, sends an event to the backend.</p>
</dd>
<dt><a href="#submit">submit(opts)</a> ⇒ <code>function</code></dt>
<dd><p>Returns a function that, when called, handles form submissions by sending form data as an event.</p>
</dd>
</dl>

<a name="replace"></a>

## replace() ⇒ <code>function</code>
Returns a function that replaces the inner HTML of an element with the HTML received in the event detail. Typically used with `@fir:[event]:ok`.

**Kind**: global function
**Returns**: <code>function</code> - The event handler function.
**Example** *(Usage in Alpine template)*:
```html
<!-- Single expression -->
<div @fir:updated:ok.window="$fir.replace()">Inner Content</div>

<!-- Multi-statement expression -->
<div @fir:updated:ok.window="console.log('Replacing...'); $fir.replace()()">Inner Content</div>
```
<a name="replaceEl"></a>

## replaceEl() ⇒ <code>function</code>
Replaces the element with the new HTML content generated by the event.

**Kind**: global function  
**Returns**: <code>function</code> - - A function that accepts an event and replaces the element with the new HTML content.  
<a name="appendEl"></a>

## appendEl() ⇒ <code>function</code>
Appends an element to the DOM.

**Kind**: global function  
**Returns**: <code>function</code> - - The event listener function.  
<a name="prependEl"></a>

## prependEl() ⇒ <code>function</code>
Prepends an element to the DOM.

**Kind**: global function  
**Returns**: <code>function</code> - - The event listener function.  
<a name="afterEl"></a>

## afterEl() ⇒ <code>function</code>
Inserts an element after the current element.

**Kind**: global function  
**Returns**: <code>function</code> - - A function that accepts an event and calls the `afterElement` function.  
<a name="beforeEl"></a>

## beforeEl() ⇒ <code>function</code>
Inserts an element before the current element.

**Kind**: global function  
**Returns**: <code>function</code> - - The function that inserts an element before the specified element.  
<a name="removeEl"></a>

## removeEl() ⇒ <code>function</code>
Removes the element from the DOM.

**Kind**: global function  
**Returns**: <code>function</code> - The event handler function that removes the element.  
<a name="removeParentEl"></a>

## removeParentEl(event)
Removes the parent element of the specified element.

**Kind**: global function  

| Param | Type | Description |
| --- | --- | --- |
| event | <code>Event</code> | The event object. |

<a name="emit"></a>

## emit(id, params, target) ⇒ <code>function</code>
Emits an event with the specified ID, parameters, and target.

**Kind**: global function  
**Returns**: <code>function</code> - - A function that can be called to emit the event.  

| Param | Type | Description |
| --- | --- | --- |
| id | <code>string</code> | The ID of the event. |
| params | <code>object</code> | The parameters to be passed with the event. |
| target | <code>string</code> | The target of the event. |

<a name="submit"></a>

## submit(opts) ⇒ <code>void</code>
Submits a form or emits an event to the server.

**Kind**: global function  

| Param | Type | Description |
| --- | --- | --- |
| opts | <code>Object</code> | Options for the submission. |
| opts.event | <code>string</code> | The event ID to be emitted. |
| opts.params | <code>Object</code> | The parameters to be sent with the submission. |
| opts.target | <code>string</code> | The target element for the response. |

**Example** *(Usage in Alpine template)*:
```html
<!-- Single expression -->
<form @fir:submitted:ok.window="$fir.reset()">...</form>


<!-- Single expression -->
<button
    @click="$fir.emit('longProcess')"
    @fir:longprocess:pending="$fir.toggleDisabled()"
    @fir:longprocess:done.window="$fir.toggleDisabled()">
    Run
</button>

<!-- Multi-statement example -->
<button
    @click="console.log('Starting...'); $fir.emit('longProcess')()"
    @fir:longprocess:pending="console.log('Disabling...'); $fir.toggleDisabled()()"
    @fir:longprocess:done.window="console.log('Enabling...'); $fir.toggleDisabled()()">
    Run
</button>

<!-- Single expression -->
<button @click="$fir.emit('increment', { amount: 1 })">+1</button>
<button id="decrementBtn" @click="$fir.emit()">-1 (uses element id)</button>

<!-- Multi-statement expression -->
<button @click="console.log('Inc...'); $fir.emit('increment', { amount: 1 })()">+1</button>

<!-- Single expression -->
<form id="myForm" @submit.prevent="$fir.submit()">
    <input type="text" name="message" />
    <button type="submit">Send</button>
</form>

<!-- Single expression with options -->
<form @submit.prevent="$fir.submit({ event: 'customSubmit', target: '#results' })">
    <input type="text" name="query" />
    <button type="submit">Search</button>
</form>

<!-- Multi-statement expression -->
<form @submit.prevent="console.log('Submitting...'); $fir.submit()()">
    <input type="text" name="message" />
    <button type="submit">Send</button>
</form>

```